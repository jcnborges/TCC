%---------- Especificações do hardware do robô ----------
\section{Especificações do Robô}
\label{chap:esprob}

Esta seção visa descrever as especificações do hardware do robô Bellator após a reconstrução do mesmo.

\subsection{Sensor IR 2Y0A02F98}
\label{sec:sensores}
Com o objetivo de auxiliar a navegação do robô e fazer varreduras do ambiente, o robô possui cinco sensores analógicos de distância, por infravermelho, modelo 2Y0A02F98 da Sharp, dispostos uniformemente nas laterais da plataforma Bellator. O código dos sensores para conversão e envio pela serial já estava pronto, como resultado do projeto Bellator. A documentação relacionada a esse sensor foi retirada do relatório de tal projeto \cite{BELLATOR}, adaptada à nova situação. Esse sensor mede distâncias no intervalo de 20 a 150 centímetros \cite{datasheetsensor}, sendo que os valores de tensão de resposta do sensor seguem a curva mostrada na figura \ref{curva}.

\begin{figure}[!htb]
  \centering
  \includegraphics[width=0.5\textwidth]{./figs/curvaresp.png}
  \caption[Curva de resposta do sensor de distância]{Curva de resposta do sensor de distância.}
  \fonte{\cite{datasheetsensor}}
  \label{curva}
\end{figure}

Pode-se observar que o modelo é pouco influenciado pelas cores dos objetos refletidos, isto devido ao método de medição baseado em triangulação \cite{datasheetsensor}. O sensor possui uma tensão de alimentação recomendada na faixa de 4,5 a 5,5 V, a qual não é atendida pela plataforma utilizada \cite{datasheetkit}, sendo necessária utilização de alimentação especial. Essa alimentação é realizada através de um circuito regulador de tensão, o qual utiliza alimentação da própria bateria acoplada ao robô. O cálculo dos valores dos resistores foram baseados na equação \ref{eqRegulador}.

\begin{equation}
\label{eqRegulador}
V_{OUT} = 1,25V (1 + R_{2}/R_{1})
\end{equation}

O diagrama esquemático do regulador de tensão é mostrado na figura \ref{regulador}.

\begin{figure}[!htb]
  \centering
  \includegraphics[width=0.5\textwidth]{./figs/regulador.jpg}
  \caption[Diagrama esquemático do regulador de tensão dos sensores de distância]{Diagrama esquemático do regulador de tensão dos sensores de distância.}
  \fonte{\cite{BELLATOR}}
  \label{regulador}
\end{figure}

\begin{figure}[!htb]
  \centering
  \includegraphics[width=0.8\textwidth]{./figs/dimsens.png}
  \caption[Dimensões do sensor GP2Y0A02F98YK]{Dimensões do sensor GP2Y0A02F98YK.}
  \fonte{\cite{datasheetsensor}}
  \label{dimsens}
\end{figure}

As respectivas dimensões do sensor IR, em milímetros, são mostradas na figura \ref{dimsens}. O modelo em questão é adequado ao projeto pois, como sua principal finalidade é a de auxiliar a navegação do robô em ambientes fechados, sua faixa de resposta de 20 a 150 centímetros é suficiente para detecção de objetos. Contudo, há a possibilidade de em um projeto futuro serem acrescentados outros tipos de sensores mais precisos voltados à medição de distâncias menores.

\subsection{C8051F340DK}
\label{sec:C8051F340DK}

O C8051F340 é uma unidade microcontroladora (MCU) equipada com um processador  da família 8051 e vários dispositivos periféricos dispostos em uma placa de circuito impresso. As especificações dessa unidade foram retiradas do relatório do projeto Bellator \cite{BELLATOR}. A C8051F340 possui as seguintes características \cite{datasheetkit}:

\begin{itemize}
  \item Conversor ADC 10 bits de até 200 ksps (amostras por segundo);
  \item Dois comparadores;
  \item Brown-out Reset e Power-on Reset;
  \item Tensão de Referência interna;
  \item Porta USB 2.0;
  \item Duas interfaces seriais (UART) e uma interface SPI;
  \item Fonte de Alimentação de 2.7 até 5.25V regulada internamente;
  \item Micro-processador 8051 de até 48 MIPS;
  \item 4352 Bytes de memória RAM;
  \item 40 Portas I/O;
  \item 4 Timers de 16 bits;
  \item Seleção de Clock interno de alta ou baixa velocidade ou clock externo.
\end{itemize}

O diagrama em blocos do kit, retirado do datasheet é apresentado na figura \ref{dbloc}.

\begin{figure}[!htb]
  \centering
  \includegraphics[width=0.8\textwidth]{./figs/dbloc.png}
  \caption[Diagrama em blocos do kit C8051F340DK]{Diagrama em blocos do kit C8051F340DK.}
  \fonte{\cite{datasheetkit}}
  \label{dbloc}
\end{figure}

\subsection{Placa TS-7260}
\label{sec:espts7260}

A placa TS-7260 é um sistema embarcado equipado com um processador ARM e sistema operacional Linux. O sistema possui periféricos para realização de comunicação serial, ethernet, usb, entre outros. A lista a seguir descreve os componentes mais importantes para o projeto. Os dados, bem como a figura \ref{fotots}, foram retirados do datasheet: \cite{TS-7260}.

\begin{itemize}
  \item Processador ARM9 de 200MHz baseado no Cirrus EP9302
  \item 32MB de memória NAND Flash
  \item 32MB de memória SDRAM
  \item Consumo menor que 1 Watt mesmo em capacidade máxima
  \item Porta Ethernet 10/100
  \item Duas portas USB 2.0
  \item Entrada de 4.5 a 20 Volts
  \item Dimensões: 9.7 cm por 11.5cm
\end{itemize}

\begin{figure}[!htb]
  \centering
  \includegraphics[width=0.8\textwidth]{./figs/fotots.png}
  \caption[Foto esquemática da placa TS-7260]{Foto esquemática da placa TS-7260.}
  \fonte{\cite{tsmanual}}
  \label{fotots}
\end{figure}

Mais informações sobre o sistema, bem como a documentação completa, estão disponíveis no manual da placa, disponível nas referências bibliográficas: \cite{tsmanual}.

\subsection{Robô Bellator}
\label{sec:robobellator} %TODO Atualizar figura/Dados

O robô Bellator, como mencionado na seção \ref{sec:estpro}, foi reconstruído e adaptado ao projeto. O robô possui duas rodas de tração e uma roda guia. As rodas de tração estão nas laterais da parte dianteira do robô e possuem diâmetro de 20 centímetros e espessura de aproximadamente 4 centímetros. Ambas possuem um encoder de quadratura acoplado, o qual tem resolução de 1800 pulsos por volta. Cada encoder está acoplado a um circuito óptico HEDS-9700 que gera uma onda quadrada na saída à medida que o encoder gira, conforme é ilustrado na figura \ref{fig:HEDS-9700}. A roda guia está no centro da parte traseira do robô e possui diâmetro de aproximadamente 6 centímetros e espessura de 2 centímetros. Todas as rodas são da marca Schioppa. Os outros componentes do robô estão listados a seguir:
\begin{itemize}
  \item[-] 2 Motores Bosch FPG 12V;
  \item[-] Bateria Unybatt 12V-7,2 Ampére-hora;
  \item[-] Duas pontes H L 298.
\end{itemize}

\begin{figure}[!htb]
  \centering
  \includegraphics[width=0.6\textwidth]{./figs/HEDS-9700.png}
  \caption[Formas de onda de saída do encoder óptico]
  {Formas de onda de saída do encoder óptico.}
  \label{fig:HEDS-9700}
  \fonte{\cite{HEDS9700}}
\end{figure}

Uma imagem do robô, parcialmente montado, pode ser visualizada na figura \ref{bellator}.

\begin{figure}[!htb]
  \centering
  \includegraphics[width=0.8\textwidth]{./figs/bellator.jpg}
  \caption[Robô Bellator parcialmente montado]{Robô Bellator parcialmente montado.}
  \fonte{Autoria própria}
  \label{bellator}
\end{figure}

\subsection{Placa de Roteamento}
\label{sec:espplacaroteamento}

A placa de roteamento é um componente desenvolvido com base na placa disponível do projeto Bellator. Como explicado na seção \ref{sec:recrobo}, a placa de roteamento recebida foi reprojetada e reconstruída pela equipe. As especificações da nova placa de roteamento são:
\begin{itemize}
    \item Dimensões: 5 x 9 cm;
    \item Trilhas de cobre de aproximadamente 1 mm;
    \item Regulador de tensão LM317T: Entrada até 40V, Saída 5,05V;
    \item Buffer para PWM: 74LS244;
    \item Conectores para cabos flat, PWM, Sensores e Encoders.
\end{itemize}

O diagrama esquemático da placa descrita pode ser observado na figura \ref{roteamentosch}.

\begin{figure}[!htb]
  \centering
  \includegraphics[width=0.8\textwidth]{./figs/roteamento_sch.png}
  \caption[Diagrama esquemático da placa de roteamento]
  {Diagrama esquemático da placa de roteamento.}
  \fonte{Autoria própria}
  \label{roteamentosch}
\end{figure}

O projeto da placa, métodos de desenvolvimento, requisitos, entre outros foram descritos de forma detalhada na seção \ref{sec:desroteamento}.

\subsection{Considerações}
O robô Bellator foi indicado para esse projeto pois apresenta as capacidades de sensoriamento e movimentação adequadas para a plataforma robótica autônoma necessária para o estudo qualitativo dos algoritmos de navegação. 
